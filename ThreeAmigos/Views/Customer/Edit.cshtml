@model ThreeAmigos.Models.ViewModels.CustomerViewModel;
@{
    ViewData["Title"] = "Edit Room";
}
<div class="row">
    <h2 class="col-md-10">@ViewData["Title"]</h2>
    <a asp-controller="Customer" asp-action="Delete" asp-route-userId="@Model.UserId" class="btn btn-danger col-md-2"
       onclick="return confirm('Are you sure you want to close your Account?')">
        Close Account
    </a>
</div>


<form asp-action="Edit" method="post" enctype="multipart/form-data">
    <input type="hidden" asp-for="UserId" />
    <div class="form-group mt-2">
        <label asp-for="Name"></label>
        <input asp-for="Name" class="form-control" />
        <span asp-validation-for="Name" class="text-danger"></span>
    </div>
    <div class="form-group mt-2">
        <label asp-for="Email"></label>
        <input asp-for="Email" class="form-control" readonly />
        <span asp-validation-for="Email" class="text-danger"></span>
    </div>
    <div class="form-group mt-2">
        <label asp-for="PasswordHash"></label>
        <input asp-for="PasswordHash" class="form-control"></input>
        <span asp-validation-for="PasswordHash" class="text-danger"></span>
    </div>
    <div class="form-group mt-2">
        <label asp-for="PermentAddress"></label>
        <textarea asp-for="PermentAddress" class="form-control"></textarea>
        <span asp-validation-for="PermentAddress" class="text-danger"></span>
    </div>
    <div class="form-group mt-2">
        <label asp-for="DeliveryAddress"></label>
        <textarea asp-for="DeliveryAddress" class="form-control"></textarea>
    </div>
    <div class="form-group mt-2">
        <label asp-for="PhoneNumber"></label>
        <input asp-for="PhoneNumber" class="form-control"></input>
    </div>
    <div class="form-group mt-2">
        <label asp-for="FundsAvailable"></label>
        <input asp-for="FundsAvailable" class="form-control" readonly></input>
    </div>

    
    <input asp-for="Role" class="form-control" hidden/>
    


    <button type="submit" class="btn btn-primary mt-3">Save</button>
    <a asp-controller="ForSignedInUsersProduct" asp-action="Index" class="btn btn-danger mt-3">
        Back
    </a>
</form>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }

    <script>
        $(document).ready(function () {
            var successMessage = '@TempData["SuccessMessage"]';
            var errorMessage = '@TempData["ErrorMessage"]';

            if (successMessage) {
                toastr.success(successMessage); // Show success message
            }

            if (errorMessage) {
                toastr.error(errorMessage); // Show error message
            }
        });
        toastr.options = {
            "closeButton": true,
            "debug": false,
            "newestOnTop": false,
            "progressBar": true,
            "positionClass": "toast-top-right",
            "preventDuplicates": false,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        };
    </script>
}